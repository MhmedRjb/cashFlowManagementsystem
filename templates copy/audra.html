<!DOCTYPE html>
<html>
    <head>

        <style>
            body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}

.topnav {
  overflow: hidden;
  background-color: #333;
}

.topnav a {
  float: left;
  color: #f2f2f2;
  text-align: center;
  padding: 25px 16px;
  text-decoration: none;
  font-size: 17px;
}

.topnav a:hover {
  background-color: #ddd;
  color: black;
}

.topnav a.active {
  background-color: #04AA6D;
  color: white;
}

            table {
                border-collapse: collapse;
                border: 1px solid black;
                margin:  auto;
                margin-top: 20px;
  margin-bottom: 80px;
  width: 60%;
            }
            th, td {
                border: 2px solid black;
                text-align: center;
                padding: 8px;
            }
            tr:nth-child(even) {
                background-color: #f2f2f2;
            }
            th {
                background-color: #4CAF50;
                color: white;
            }
            
            tr.yes {
                background-color: #90EE90; /* light green */
            }
            tr.no {
                background-color: #FFB6C1; /* light red */
            }
            input[type="submit"] {
    background-color: #df481a;
    color: white;
    padding: auto ;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    text-align: center;
    font-size: xx-large;
    font-weight: bold;
    margin-right: 5%;
    

}

input[type="submit"]:hover {
    background-color: #ce2727;
}

.update-button {
    position: fixed;
    bottom: 60px;
    right: 20px;
}
footer {
 text-align: center;
 background-color: #333;
 color: white;
 position:fixed; 
 bottom:0; 
 width:100%;
}

        </style>
    </head>
    <body>

        <div class="topnav" style="font-weight: bolder;">
            <a  href="/"> رفع الملفات </a>
            <a  href="/next_page"> التنفيذ </a>
            <a  class="active" href="/display_goodstransectionte"> التدفقات النقدية </a>
          </div>
          <h1 style="text-align: center; font-size: 36px; font-weight: bold;">جدول متباعة التدفقات النقدية</h1>

        <form action="{{ url_for('update_paid') }}" method="post">
            <table>
                <tr>
                    {% for col_name in data.columns %}
                        <th>{{ col_name }}</th>
                    {% endfor %}
                    <th>Update Paid</th>
                </tr>
                {% for row in data.itertuples() %}
                    <tr>
                        {% for value in row[1:] %}
                            <td>{{ value }}</td>
                        {% endfor %}
                        <td>
                            <input type="hidden" name="invoice_id" value="{{ row.InvoiceID }}">
                            <select name="paid">
                                <option value="">مؤقت...</option>
                                <option value="0">لا</option>
                                <option value="1">نعم</option>
                            </select>
                        </td>
                    </tr>
                {% endfor %}
            </table>
            <input type="submit" value="تحديث" class="update-button">
        </form>

        <script>
            // get all the dropdown menus
            var dropdowns = document.querySelectorAll('select[name="paid"]');

            // add an event listener to each dropdown menu
            for (var i = 0; i < dropdowns.length; i++) {
                // store the original value of the dropdown menu
                dropdowns[i].dataset.originalValue = dropdowns[i].value;

                dropdowns[i].addEventListener('change', function() {
                    // get the row element
                    var row = this.closest('tr');

                    // remove any existing color classes from the row
                    row.classList.remove('yes', 'no');

                    // add the appropriate color class depending on the value of the dropdown menu
                    if (this.value === '1') {
                        row.classList.add('yes');
                    } else if (this.value === '0') {
                        row.classList.add('no');
                    }
                });
            }
        </script>
               <footer>
                <!-- place your footer content here -->
                <p>Copyright © 2022 My Website</p>
              </footer>
    </body>

</html>
